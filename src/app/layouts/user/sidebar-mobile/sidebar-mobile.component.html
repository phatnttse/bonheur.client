<div
  class="hidden w-full h-screen fixed top-[0] left-[0] bg-[#00000080] z-[17]"
  [style.display]="isMenuOpen ? 'block' : 'none'"
  (click)="closeMenu($event)"
></div>
<div
  class="sb-menu w-2/3 h-full pt-[15px] px-[8px] text-[14px] font-normal fixed z-[17] top-[0] left-[0] block transition-all duration-[0.5s] ease delay-[0s] -translate-x-[100%] bg-[#fff] overflow-auto opacity-[0]"
  [ngClass]="isMenuOpen ? 'open' : ''"
>
  <div class="flex justify-between align-center py-4 px-4">
    <a
      routerLink="/"
      class="text-2xl font-bold text-primary hover:text-primary-dark transition-colors absolute lg:static lg:translate-x-0"
    >
      <span class="font-bold">Bonheur.</span>
    </a>
    <button
      class="absolute top-4 right-4 text-gray-500 focus:outline-none"
      (click)="toggleMenu()"
    >
      <span class="material-icons">close</span>
    </button>
  </div>

  <nav class="flex flex-col space-y-6 px-8 pt-12 pb-6">
    <a
      routerLink="/"
      class="text-base font-medium text-gray-700 hover:text-primary transition duration-300"
      >Home</a
    >
    <a
      routerLink="/suppliers"
      class="text-base font-medium text-gray-700 hover:text-primary transition duration-300"
      >Suppliers</a
    >
    <div class="flex flex-col">
      <span class="text-gray-700 text-base font-medium">Planning Tools</span>
      <span
        class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full mt-1 w-fit"
        >Coming Soon</span
      >
    </div>

    <a
      routerLink="/about-us"
      class="text-base font-medium text-gray-700 hover:text-primary transition duration-300"
      >About Us</a
    >
    <a
      routerLink="/contact"
      class="text-base font-medium text-gray-700 hover:text-primary transition duration-300"
      >Contact</a
    >
  </nav>
  <div class="flex flex-col space-y-2 p-6">
    @if (!account) {
    <div class="cols flex justify-start mx-2 mb-6">
      <div class="bb-flex-justify max-[575px]:flex max-[575px]:justify-between">
        <div class="bb-header-buttons h-full flex justify-end items-center">
          <div class="bb-acc-drop relative">
            <a
              href="javascript:void(0)"
              class="bb-header-btn bb-header-user dropdown-toggle bb-user-toggle transition-all duration-[0.3s] ease-in-out relative flex w-[auto] items-center whitespace-nowrap ml-[30px] max-[1199px]:ml-[20px] max-[767px]:ml-[0]"
              title="Account"
            >
              <div class="header-icon relative flex">
                <svg
                  class="svg-icon w-[30px] h-[30px] max-[1199px]:w-[25px] max-[1199px]:h-[25px] max-[991px]:w-[22px] max-[991px]:h-[22px]"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    class="fill-primary"
                    d="M512.476 648.247c-170.169 0-308.118-136.411-308.118-304.681 0-168.271 137.949-304.681 308.118-304.681 170.169 0 308.119 136.411 308.119 304.681C820.594 511.837 682.645 648.247 512.476 648.247L512.476 648.247zM512.476 100.186c-135.713 0-246.12 109.178-246.12 243.381 0 134.202 110.407 243.381 246.12 243.381 135.719 0 246.126-109.179 246.126-243.381C758.602 209.364 648.195 100.186 512.476 100.186L512.476 100.186zM935.867 985.115l-26.164 0c-9.648 0-17.779-6.941-19.384-16.35-2.646-15.426-6.277-30.52-11.142-44.95-24.769-87.686-81.337-164.13-159.104-214.266-63.232 35.203-134.235 53.64-207.597 53.64-73.555 0-144.73-18.537-208.084-53.922-78 50.131-134.75 126.68-159.564 214.549 0 0-4.893 18.172-11.795 46.4-2.136 8.723-10.035 14.9-19.112 14.9L88.133 985.116c-9.415 0-16.693-8.214-15.47-17.452C91.698 824.084 181.099 702.474 305.51 637.615c58.682 40.472 129.996 64.267 206.966 64.267 76.799 0 147.968-23.684 206.584-63.991 124.123 64.932 213.281 186.403 232.277 329.772C952.56 976.901 945.287 985.115 935.867 985.115L935.867 985.115z"
                  ></path>
                </svg>
              </div>
              <div
                class="bb-btn-desc flex flex-col ml-[10px]"
                routerLink="/authentication/signin"
              >
                <span
                  class="bb-btn-title font-Poppins transition-all duration-[0.3s] ease-in-out text-[12px] leading-[1] text-[#3d4750] mb-[4px] tracking-[0.6px] capitalize font-medium whitespace-nowrap"
                  >Account</span
                >
                <span
                  class="bb-btn-stitle font-Poppins transition-all duration-[0.3s] ease-in-out text-[14px] leading-[16px] font-semibold text-[#3d4750] tracking-[0.03rem] whitespace-nowrap"
                  >Signin / Signup</span
                >
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
    }@else {
    <div class="flex items-center gap-4 mb-6">
      <div class="mt-1">
        <button mat-icon-button routerLink="/favorite-supplier">
          <mat-icon
            fontSet="material-icons-outlined"
            style="font-size: 24px"
            class="text-red-500"
            >favorite</mat-icon
          >
        </button>
      </div>
      <div class="mr-4 mt-2">
        <button mat-icon-button aria-label="Notifications" routerLink="/inbox">
          <i-tabler
            class="flex items-center text-center"
            name="mail"
            [matBadge]="messageUnreadCount"
            matBadgeColor="warn"
          ></i-tabler>
        </button>
      </div>

      <div
        class="d-flex align-items-center cursor-pointer"
        [matMenuTriggerFor]="accountMenu"
        aria-label="Account"
      >
        <img
          [src]="account.pictureUrl"
          alt="avatar"
          class="rounded-full object-cover w-[36px] h-[36px]"
        />
      </div>
      <mat-menu #accountMenu="matMenu" class="p-6" xPosition="after">
        @if (account) {
        <button mat-menu-item routerLink="/profile">
          <div class="flex items-center">
            <mat-icon>manage_accounts</mat-icon>
            <span>My Account</span>
          </div>
        </button>
        <div class="p-x-12 m-t-12">
          <button
            type="button"
            mat-stroked-button
            color="primary"
            class="w-100"
            (click)="btnLogout()"
          >
            <div class="flex items-center">
              <mat-icon class="mr-1">logout</mat-icon>
              <span>Logout</span>
            </div>
          </button>
        </div>
        }
      </mat-menu>
    </div>
    }
    <div class="flex items-center gap-6 mx-2 mt-4">
      <img
        src="./../../../../assets/images/svgs/bag.svg"
        alt=""
        class="w-5 h-5 mb-1"
      />
      @if (account?.roles?.includes(role.SUPPLIER)) {
      <a
        class="text-secondary font-semibold text-base cursor-pointer"
        routerLink="/supplier"
        >Supplier Channel
      </a>
      }@else {
      <a
        class="text-secondary font-semibold text-base cursor-pointer"
        routerLink="/supplier/signup"
        >Are you a supplier ?
      </a>
      }
    </div>
  </div>
</div>
